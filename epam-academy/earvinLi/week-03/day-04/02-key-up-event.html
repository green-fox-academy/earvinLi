<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Workshop: EventListeners</title>
  </head>
  <body>
    <h1>No last pressed key</h1>

    <!-- You can work in the html or in a separate js file. Like:
    <script>
      1) Subscibe to keyup events on the global window object
      2) Console log the event object and peek inside
      3) Display the last pressed key's code as "Last pressed key code is: __"
    </script>
    OR
    <script src="keyup.js"></script> -->

    <script type="text/javascript">
      // TODO: Check how this 'this' works
      const throttleFunc = (fn, ms) => {
        let timer = 0;
        return (...args) => {
          clearTimeout(timer);
          timer = setTimeout(fn.bind(this, ...args), ms || 0);
        };
      };

      const headerToWorkWith = document.querySelector('h1');

      window.addEventListener('keyup', throttleFunc((event) => {
        // TODO: Fix the 'Meta' issue
        if (event.key !== 'Meta') {
          headerToWorkWith.innerText = `Last pressed key code is: ${event.key}.`;
        }
      }, 500));
    </script>
  </body>
</html>
